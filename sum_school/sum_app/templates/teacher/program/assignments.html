{% extends "layouts/base.html" %}
{% load heroicons %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static "css/program_details_layout.css" %}">
    <link rel="stylesheet" href="{% static "css/sidebar.css" %}">
    <link rel="stylesheet" href="{% static "css/operation.css" %}">
    <link rel="stylesheet" href="{% static 'css/admin/admin.css' %}">
{% endblock  %}
{% block title %}ASSIGNMENT{% endblock %}


{% block content %}
    <div class='w-100 h-100 overflow-hidden program--layout'>
        {% include "teacher/sidebar.html" %}
    <div class='w-100 h-100 overflow-hidden py-2 px-3 class--operation'>
        <div class='shadow-sm operation--header'>
            <span class="class--title">
                {{ program.name }} {% heroicon_outline 'chevron-right' class='icon' %} Assignments
            </span>
    
            <div class="class--btn-group">
            </div>
        </div>
        <div class='position-relative shadow-sm overflow-hidden operation--body'>
            <div class='position-absolute w-100 h-100 overflow-hidden py-3 px-3 class--assignment'>

                <div class="assignment--header">
                    <div class='d-flex align-items-end gap-3 assignment--nav'>
                        <a href="{% url 'sum_teacher:show_create_assignment' program.program_id %}" class='create--btn'>Create New</a>
                    </div>
                </div>
            
                <div class="position-relative">
                    <ul class='position-absolute w-100 h-100 p-2 mt-1 overflow-x-hidden overflow-y-scroll mb-0'>
                        {% for assignment in assignments %}
                            <li class="mb-2">
                                <div class="py-1 px-3 assignment--item">
                                    <div class='d-flex justify-content-center align-items-center gap-3 px-1'>
                                        <span class="rounded-circle d-flex justify-content-center align-items-center assignment--icon" >
                                            {% heroicon_outline 'newspaper' size='30px' class='icon' %}
                                        </span>
                            
                                        <div class="assignment--group">
                                            <span class='label'>Title</span>
                                            <span class='description'>{{ assignment.title }}</span>
                                        </div>
                                    </div>
                            
                                    <div class='w-100 d-flex justify-content-end gap-3 align-items-center'>
                                        <div class="assignment--group">
                                            <span class='label'>Type</span>
                                            <span class="description">
                                                {% if assignment.type == 1 %}
                                                    Assignment
                                                {% elif assignment.type == 2 %}
                                                    Tutorial
                                                {% endif %}
                                            </span>
                                        </div>
                            
                                        <div class="module--group">
                                            <span class='label'>Module</span>
                                            <span class='description'>{{ assignment.module.module_code }}</span>
                                        </div>
                            
                                        <div class="module--group">
                                            <span class='label'>Due Date</span>
                                            <span class='description'>{{ assignment.end_date }}</span>
                                        </div>
                                        
                                        <div class="assignment--group">
                                            <a href="{% url 'sum_teacher:show_assignment_details' program.program_id assignment.task_id %}">Details</a>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            
            </div>
        </div>
    </div>
</div>

    {% if messages %}
    <div class="alert-msg">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    </div>
    {% endif %}
{% endblock %}

{% block extra_js %}
    <script src="{% static "js/module.js" %}"></script>
    <script src="{% static "js/assignment.js" %}"></script>
    <script src="{% static "js/scheduleTable.js" %}"></script>
{% endblock %}